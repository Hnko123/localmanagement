{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Etsy Order Schema",
  "type": "object",
  "properties": {
    "id": {"type": "integer"},
    "transaction_id": {"type": "integer"},
    "order_date": {"type": "string", "format": "date-time"},
    "status": {"type": "string"},
    "product": {
      "type": "object",
      "properties": {
        "name": {"type": "string"},
        "image_url": {"type": "string", "format": "uri"},
        "material_size": {"type": "string"},
        "chain_length": {"type": "string"},
        "personalization": {"type": "string"},
        "quantity": {"type": "integer"},
        "raw_details": {"type": "string"}
      },
      "required": ["name", "image_url", "material_size", "chain_length", "personalization", "quantity", "raw_details"]
    },
    "customer": {
      "type": "object",
      "properties": {
        "name": {"type": "string"},
        "email": {"type": "string", "format": "email"},
        "address": {"type": "string"},
        "note": {"type": "string"}
      },
      "required": ["name", "email", "address", "note"]
    },
    "pricing": {
      "type": "object",
      "properties": {
        "item_price": {"type": "number"},
        "discount": {"type": "number"},
        "sales_tax": {"type": "number"},
        "order_total": {"type": "number"},
        "currency": {"type": "string"}
      },
      "required": ["item_price", "discount", "sales_tax", "order_total", "currency"]
    },
    "shop": {
      "type": "object",
      "properties": {
        "name": {"type": "string"},
        "ioss_number": {"type": "string"}
      },
      "required": ["name", "ioss_number"]
    },
    "vat": {
      "type": "object",
      "properties": {
        "vat_collected": {"type": "string"},
        "vat_id": {"type": "string"},
        "vat_paid_chf": {"type": "string"}
      },
      "required": ["vat_collected", "vat_id", "vat_paid_chf"]
    },
    "fulfillment": {
      "type": "object",
      "properties": {
        "cut": {"type": "boolean"},
        "ready": {"type": "boolean"},
        "shipped": {"type": "boolean"},
        "tracking_number": {"type": "string"},
        "shipping_date": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}]},
        "notes": {"type": "string"}
      },
      "required": ["cut", "ready", "shipped", "tracking_number", "shipping_date", "notes"]
    },
    "meta": {
      "type": "object",
      "properties": {
        "created_at": {"type": "string", "format": "date-time"},
        "updated_at": {"type": "string", "format": "date-time"},
        "source": {"type": "string"}
      },
      "required": ["created_at", "updated_at", "source"]
    }
  },
  "required": ["id", "transaction_id", "order_date", "status", "product", "customer", "pricing", "shop", "vat", "fulfillment", "meta"]
}
